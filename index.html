<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Ventas - Ropa</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Sistema de Gestion de Ventas</h1>
            <p class="subtitle">Gestiona tu negocio de manera profesional</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('usuarios')">Usuarios</button>
            <button class="tab-btn" onclick="showTab('prendas')">Agregar Prenda</button>
            <button class="tab-btn" onclick="showTab('resumen')">Resumen</button>
            <button class="tab-btn" onclick="showTab('estadisticas')">Estad√≠sticas</button>
        </div>

        <!-- Tab Usuarios -->
        <div id="usuarios" class="tab-content active">
            <div class="form-section">
                <h2>Agregar Usuario</h2>
                <form id="userForm">
                    <input type="text" id="userName" placeholder="Nombre del usuario" required>
                    <input type="tel" id="userPhone" placeholder="Tel√©fono">
                    <button type="submit">Agregar Usuario</button>
                </form>
            </div>

            <div class="users-list">
                <div class="users-header">
                    <h2>Usuarios Registrados</h2>
                    <div class="search-container">
                        <input type="text" id="userSearch" placeholder="üîç Buscar por nombre o tel√©fono" oninput="filterUsers()">
                    </div>
                </div>
                <div id="usersList"></div>
            </div>
        </div>

        <!-- Tab Prendas -->
        <div id="prendas" class="tab-content">
            <div class="form-section">
                <h2>Agregar Prenda</h2>
                <form id="clothingForm">
                    <select id="clothingUser" required>
                        <option value="">Seleccionar usuario</option>
                    </select>
                    <input type="text" id="clothingItem" placeholder="Descripci√≥n de la prenda" required>
                    <input type="number" id="salePrice" placeholder="Precio de venta" step="0.01" required>
                    <input type="number" id="userPrice" placeholder="Precio para el usuario" step="0.01" required>
                    <select id="clothingStatus">
                        <option value="pendiente">Pendiente</option>
                        <option value="vendido">Vendido</option>
                        <option value="pagado">Pagado al usuario</option>
                    </select>
                    <button type="submit">Agregar Prenda</button>
                </form>
            </div>
        </div>

        <!-- Tab Resumen -->
        <div id="resumen" class="tab-content">
            <h2>Resumen por Usuario</h2>
            <div id="summaryList"></div>
        </div>

        <!-- Tab Estad√≠sticas -->
        <div id="estadisticas" class="tab-content">
            <div class="form-section">
                <h2>Estad√≠sticas Generales</h2>
                <div class="filter-controls">
                    <select id="monthFilter">
                        <option value="">Todos los meses</option>
                    </select>
                    <select id="yearFilter">
                        <option value="">Todos los a√±os</option>
                    </select>
                    <button onclick="loadStatistics()">Actualizar</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stats-card">
                    <h3>Ventas del Per√≠odo</h3>
                    <div id="salesStats"></div>
                </div>
                
                <div class="stats-card">
                    <h3>Top Usuarios</h3>
                    <div id="topUsers"></div>
                </div>
                
                <div class="stats-card">
                    <h3>Stock Disponible</h3>
                    <div id="stockStats"></div>
                </div>
                
                <div class="stats-card">
                    <h3>Resumen Financiero</h3>
                    <div id="financialStats"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para agregar prenda r√°pida -->
    <div id="addClothingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddClothingModal()">&times;</span>
            <h2 id="addClothingTitle">Agregar Prenda</h2>
            <form id="quickClothingForm">
                <input type="hidden" id="quickUserId">
                <input type="text" id="quickDescription" placeholder="Descripci√≥n de la prenda" required>
                <input type="number" id="quickSalePrice" placeholder="Precio de venta" step="0.01" required>
                <input type="number" id="quickUserPrice" placeholder="Precio para el usuario" step="0.01" required>
                <select id="quickStatus">
                    <option value="pendiente">Pendiente</option>
                    <option value="vendido">Vendido</option>
                    <option value="pagado">Pagado al usuario</option>
                </select>
                <div class="modal-buttons">
                    <button type="submit">Agregar Prenda</button>
                    <button type="button" onclick="closeAddClothingModal()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para editar prenda -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2>Editar Prenda</h2>
            <form id="editForm">
                <input type="hidden" id="editItemId">
                <input type="text" id="editDescription" placeholder="Descripci√≥n de la prenda" required>
                <input type="number" id="editSalePrice" placeholder="Precio de venta" step="0.01" required>
                <input type="number" id="editUserPrice" placeholder="Precio para el usuario" step="0.01" required>
                <select id="editStatus">
                    <option value="pendiente">Pendiente</option>
                    <option value="vendido">Vendido</option>
                    <option value="pagado">Pagado al usuario</option>
                </select>
                <div class="modal-buttons">
                    <button type="submit">Guardar Cambios</button>
                    <button type="button" onclick="closeEditModal()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>